{
  "test_1_simple_math": {
    "input": {
      "messages": [
        {
          "role": "system",
          "content": "You are a calculator. Just give the final answer"
        },
        { "role": "user", "content": "1+1" }
      ],
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "top_p": 1
    },
    "output": {
      "object": "chat.completion",
      "created": 1752740254,
      "model": "gpt-4o-mini-2024-07-18",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "2",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 24,
        "completion_tokens": 1,
        "total_tokens": 25,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        }
      },
      "service_tier": "default",
      "system_fingerprint": null
    }
  },
  "test_2_simple_math": {
    "input": {
      "messages": [
        {
          "role": "system",
          "content": "You are a calculator. Just give the final answer"
        },
        { "role": "user", "content": "1+1" }
      ],
      "model": "gemini-2.0-flash",
      "temperature": 0.7,
      "top_p": 1
    },
    "output": {
      "object": "chat.completion",
      "model": "gemini-2.0-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "2\n",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 13,
        "completion_tokens": 2,
        "total_tokens": 15,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        }
      }
    }
  },
  "test_function_call": {
    "input": {
      "messages": [
        {
          "content": "You are Thaco Bot, a sale of Thaco Auto. Thaco Auto THACO AUTO (thuộc Tập đoàn THACO) là doanh nghiệp sản xuất, lắp ráp và phân phối ô tô hàng đầu Việt Nam.",
          "role": "system"
        },
        {
          "content": "So sanh vinfast va bmw",
          "role": "user"
        }
      ],
      "model": "gpt-4o-mini",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "function": {
            "name": "compare_cars",
            "description": "KHi khách hàng có nhu cầu so sánh 2 xe",
            "parameters": {
              "additionalProperties": false,
              "properties": {
                "base_car_name": {
                  "type": "string",
                  "description": "Tên đầy đủ của mẫu xe mà khách dùng để làm căn cứ so sánh"
                },
                "compare_car_name": {
                  "description": "Tên đầy đủ của mẫu xe mà khách muốn so sánh"
                }
              },
              "required": ["base_car_name", "compare_car_name"],
              "type": "object"
            }
          },
          "type": "function"
        }
      ]
    },
    "output": {
      "id": "chatcmpl-BuFHGvjRtr8QjsRYrzIUowmv5At0s",
      "object": "chat.completion",
      "created": 1752744794,
      "model": "gpt-4o-mini-2024-07-18",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": null,
            "tool_calls": [
              {
                "id": "call_RBIlJG8WNhU5usTETGLvu3S3",
                "type": "function",
                "function": {
                  "name": "compare_cars",
                  "arguments": "{\"base_car_name\": \"VinFast\", \"compare_car_name\": \"BMW\"}"
                }
              }
            ],
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "tool_calls"
        }
      ],
      "usage": {
        "prompt_tokens": 148,
        "completion_tokens": 40,
        "total_tokens": 188,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        },
        "completion_tokens_details": {
          "reasoning_tokens": 0,
          "audio_tokens": 0,
          "accepted_prediction_tokens": 0,
          "rejected_prediction_tokens": 0
        }
      },
      "service_tier": "default",
      "system_fingerprint": null
    }
  },
  "test_function_call_gemini": {
    "input": {
      "messages": [
        {
          "content": "You are Thaco Bot, a sale of Thaco Auto. Thaco Auto THACO AUTO (thuộc Tập đoàn THACO) là doanh nghiệp sản xuất, lắp ráp và phân phối ô tô hàng đầu Việt Nam.",
          "role": "system"
        },
        {
          "content": "So sanh 2 xe vinfast 12 va bmw 4",
          "role": "user"
        }
      ],
      "model": "gemini-2.5-flash",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "function": {
            "name": "compare_cars",
            "description": "KHi khách hàng có nhu cầu so sánh 2 xe",
            "parameters": {
              "additionalProperties": false,
              "properties": {
                "base_car_name": {
                  "type": "string",
                  "description": "Tên đầy đủ của mẫu xe mà khách dùng để làm căn cứ so sánh"
                },
                "compare_car_name": {
                  "description": "Tên đầy đủ của mẫu xe mà khách muốn so sánh"
                }
              },
              "required": ["base_car_name", "compare_car_name"],
              "type": "object"
            }
          },
          "type": "function"
        }
      ]
    },
    "output": {
      "id": "chatcmpl-BuFHGvjRtr8QjsRYrzIUowmv5At0s",
      "object": "chat.completion",
      "created": 1752744794,
      "model": "gemini-2.5-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": null,
            "tool_calls": [
              {
                "id": "call_RBIlJG8WNhU5usTETGLvu3S3",
                "type": "function",
                "function": {
                  "name": "compare_cars",
                  "arguments": "{\"base_car_name\":\"vinfast 12\",\"compare_car_name\":\"bmw 4\"}"
                }
              }
            ],
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "tool_calls"
        }
      ],
      "usage": {
        "prompt_tokens": 157,
        "completion_tokens": 332,
        "total_tokens": 489,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        }
      }
    }
  },
  "test_tool_call_finished": {
    "input": {
      "messages": [
        {
          "content": "You are Thaco Bot, a sale of Thaco Auto. Thaco Auto THACO AUTO (thuộc Tập đoàn THACO) là doanh nghiệp sản xuất, lắp ráp và phân phối ô tô hàng đầu Việt Nam.",
          "role": "system"
        },
        {
          "content": "So sanh vinfast va bmw",
          "role": "user"
        },
        {
          "role": "assistant",
          "content": null,
          "tool_calls": [
            {
              "id": "call_cz8Z6PtXSfkKWd8d5vPmHfS3",
              "type": "function",
              "function": {
                "name": "compare_cars",
                "arguments": "{\"base_car_name\": \"VinFast\", \"compare_car_name\": \"BMW\"}"
              }
            }
          ],
          "refusal": null,
          "annotations": []
        },
        {
          "role": "tool",
          "tool_call_id": "call_cz8Z6PtXSfkKWd8d5vPmHfS3",
          "name": "get_user",
          "content": "toi khong biet"
        }
      ],
      "model": "gpt-4o-mini",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "function": {
            "name": "compare_cars",
            "description": "KHi khách hàng có nhu cầu so sánh 2 xe",
            "parameters": {
              "additionalProperties": false,
              "properties": {
                "base_car_name": {
                  "type": "string",
                  "description": "Tên đầy đủ của mẫu xe mà khách dùng để làm căn cứ so sánh"
                },
                "compare_car_name": {
                  "description": "Tên đầy đủ của mẫu xe mà khách muốn so sánh"
                }
              },
              "required": ["base_car_name", "compare_car_name"],
              "type": "object"
            }
          },
          "type": "function"
        }
      ]
    },
    "output": {
      "id": "chatcmpl-BuBbBOsNkDwroGCQc1HTT3lEemA3j",
      "object": "chat.completion",
      "created": 1752730653,
      "model": "gpt-4o-mini-2024-07-18",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "Xin lỗi, tôi không thể so sánh trực tiếp giữa VinFast và BMW. Tuy nhiên, bạn có thể cho tôi biết cụ thể mẫu xe nào của VinFast và BMW mà bạn muốn so sánh không?",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 186,
        "completion_tokens": 45,
        "total_tokens": 231,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        },
        "completion_tokens_details": {
          "reasoning_tokens": 0,
          "audio_tokens": 0,
          "accepted_prediction_tokens": 0,
          "rejected_prediction_tokens": 0
        }
      },
      "service_tier": "default",
      "system_fingerprint": null
    }
  },
  "test_tool_call_finished_gemini": {
    "input": {
      "messages": [
        {
          "content": "You are Thaco Bot, a sale of Thaco Auto. Thaco Auto THACO AUTO (thuộc Tập đoàn THACO) là doanh nghiệp sản xuất, lắp ráp và phân phối ô tô hàng đầu Việt Nam.",
          "role": "system"
        },
        {
          "content": "So sanh vinfast va bmw",
          "role": "user"
        },
        {
          "role": "assistant",
          "content": null,
          "tool_calls": [
            {
              "id": "call_cz8Z6PtXSfkKWd8d5vPmHfS3",
              "type": "function",
              "function": {
                "name": "compare_cars",
                "arguments": "{\"base_car_name\": \"VinFast\", \"compare_car_name\": \"BMW\"}"
              }
            }
          ],
          "refusal": null,
          "annotations": []
        },
        {
          "role": "tool",
          "tool_call_id": "call_cz8Z6PtXSfkKWd8d5vPmHfS3",
          "name": "get_user",
          "content": "toi khong biet"
        }
      ],
      "model": "gemini-2.0-flash",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "function": {
            "name": "compare_cars",
            "description": "KHi khách hàng có nhu cầu so sánh 2 xe",
            "parameters": {
              "additionalProperties": false,
              "properties": {
                "base_car_name": {
                  "type": "string",
                  "description": "Tên đầy đủ của mẫu xe mà khách dùng để làm căn cứ so sánh"
                },
                "compare_car_name": {
                  "description": "Tên đầy đủ của mẫu xe mà khách muốn so sánh"
                }
              },
              "required": ["base_car_name", "compare_car_name"],
              "type": "object"
            }
          },
          "type": "function"
        }
      ]
    },
    "output": {
      "object": "chat.completion",
      "model": "gemini-2.0-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "Tôi rất tiếc, tôi không có đủ thông tin để so sánh hai dòng xe này.",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 140,
        "completion_tokens": 19,
        "total_tokens": 159,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        }
      }
    }
  },
  "response_format": {
    "input": {
      "messages": [
        {
          "content": "List a few popular cookie recipes, and include the amounts of ingredients.",
          "role": "system"
        }
      ],
      "model": "gpt-4o-mini",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "intent",
          "strict": true,
          "schema": {
            "additionalProperties": false,
            "properties": {
              "recipeName": {
                "type": "string",
                "description": "Name of the recipe"
              },
              "ingredients": {
                "type": "array",
                "items": {
                  "type": "string",
                  "description": "Ingredient description"
                },
                "description": "List of ingredients"
              }
            },
            "required": ["recipeName", "ingredients"],
            "type": "object"
          }
        }
      }
    },
    "output": {
      "id": "chatcmpl-BuINxJtus3dLpDAECDcO1jwWSChbf",
      "object": "chat.completion",
      "created": 1752756741,
      "model": "gpt-4o-mini-2024-07-18",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "{\"recipeName\":\"Classic Chocolate Chip Cookies\",\"ingredients\":[\"2 1/4 cups all-purpose flour\",\"1/2 teaspoon baking soda\",\"1 cup unsalted butter, room temperature\",\"1/2 cup granulated sugar\",\"1 cup packed light-brown sugar\",\"1 teaspoon salt\",\"2 teaspoons pure vanilla extract\",\"2 large eggs\",\"2 cups semisweet and/or milk chocolate chips\"]}",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 78,
        "completion_tokens": 79,
        "total_tokens": 157,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        },
        "completion_tokens_details": {
          "reasoning_tokens": 0,
          "audio_tokens": 0,
          "accepted_prediction_tokens": 0,
          "rejected_prediction_tokens": 0
        }
      },
      "service_tier": "default",
      "system_fingerprint": null
    }
  },
  "response_format_gemini": {
    "input": {
      "messages": [
        {
          "content": "List a few popular cookie recipes, and include the amounts of ingredients.",
          "role": "system"
        }
      ],
      "model": "gemini-2.0-flash",
      "seed": 0,
      "temperature": 0,
      "top_p": 1,
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "intent",
          "strict": true,
          "additionalProperties": false,
          "schema": {
            "additionalProperties": false,
            "properties": {
              "recipeName": {
                "type": "string",
                "description": "Name of the recipe"
              },
              "ingredients": {
                "type": "array",
                "items": {
                  "type": "string",
                  "description": "Ingredient description"
                },
                "description": "List of ingredients"
              }
            },
            "required": ["recipeName", "ingredients"],
            "type": "object"
          }
        }
      }
    },
    "output": {
      "id": "chatcmpl-BuINxJtus3dLpDAECDcO1jwWSChbf",
      "object": "chat.completion",
      "created": 1752756741,
      "model": "gemini-2.0-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "{\"recipeName\":\"Classic Chocolate Chip Cookies\",\"ingredients\":[\"2 1/4 cups all-purpose flour\",\"1/2 teaspoon baking soda\",\"1 cup unsalted butter, room temperature\",\"1/2 cup granulated sugar\",\"1 cup packed light-brown sugar\",\"1 teaspoon salt\",\"2 teaspoons pure vanilla extract\",\"2 large eggs\",\"2 cups semisweet and/or milk chocolate chips\"]}",
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 78,
        "completion_tokens": 79,
        "total_tokens": 157,
        "prompt_tokens_details": {
          "cached_tokens": 0,
          "audio_tokens": 0
        },
        "completion_tokens_details": {
          "reasoning_tokens": 0,
          "audio_tokens": 0,
          "accepted_prediction_tokens": 0,
          "rejected_prediction_tokens": 0
        }
      },
      "service_tier": "default",
      "system_fingerprint": null
    }
  },
  "20": {
    "input": {
      "messages": [
        {
          "role": "system",
          "content": "Xin chao"
        },
        {
          "role": "user",
          "content": "Bạn ơi cho mình hỏi mình muốn in hóa đơn bán ra một loạt thi lam ntn"
        }
      ],
      "model": "gemini-2.0-flash",
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "type": "function",
          "function": {
            "name": "system_human_handoff",
            "description": "Call this to hand over the conversation to human agent. Skip if already assigned to real human"
          }
        }
      ]
    },
    "output": {
      "object": "chat.completion",
      "model": "gemini-2.0-flash",
      "choices": [
        {
          "message": {
            "role": "assistant",
            "content": "Tôi xin lỗi, tôi không thể giúp bạn in hóa đơn. Tôi chỉ là một mô hình ngôn ngữ lớn."
          },
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 44,
        "completion_tokens": 23,
        "total_tokens": 67,
        "prompt_tokens_details": { "cached_tokens": 0 }
      }
    }
  },
  "21": {
    "input": {
      "messages": [
        {
          "role": "system",
          "content": "You are an information extractor agent. Your role is extract information provided by the user from the conversation history.\nYou are interested in collecting these following informations:\n1. Email (Key: emails): Email address of the user.\n2. Phone (key: phones): Phone number of the user.\n2. Showroom (Key: showroom): Bạn là AI hỗ trợ thu thập tên Showroom của Thaco thông qua tên kênh khách liên hệ. . **Trường hợp đặc biệt**: . Khách nhắn tin đến kênh không có địa điểm như 'thacoauto.vn' -> lưu giá trị Showroom là 'Thaco Auto' . . Ví dụ 1: khách nhắn đến kênh website peugeottrankhatchan.com.vn, có địa điểm là 'trankhatchan' -> lưu giá trị Showroom là 'Trần Khát Chân' . Ví dụ 2: khách nhắn đến kênh Fanpage THACO AUTO Hải Phòng, có địa điểm là 'Hải Phòng' -> lưu giá trị Showroom là 'Hải Phòng'. Ví dụ 3: khách nhắn đến kênh Fanpage THACO AUTO, không có địa điểm -> lưu giá trị Showroom là 'Thaco Auto'\n"
        },
        {
          "role": "system",
          "content": "\nUser sent message on Website "
        },
        {
          "role": "assistant",
          "content": "CONVERSATION HISTORY\nuser: I commented to a post in Fanpage Mazda Hải Dương - Chí Linh\nassistant: 🚗 MAZDA2 CHỈ TỪ 399TR (*) - LỰA CHỌN KHÔNG THỂ BỎ LỠ TRONG DỊP HÈ NÀY. ===. 🔥 Nhỏ gọn không có nghĩa là thiếu chất. Mazda2 – xế yêu cho người thích công nghệ, ghét lãng phí. 🔥. . 💸 Sở hữu xe ngay chỉ từ 82TR (*) . 🎉 Bảo hành chính hãng 5 năm/150.000km. 🎉 Sẵn xe đủ màu – Giao ngay tại showroom. 🎉 Và vô vàn phần quà hấp dẫn từ Mazda Chí Linh. . 🧠 CÔNG NGHỆ CHẠM MẶT – ĐẲNG CẤP GỌI TÊN MAZDA2. 🔹 Mazda Connect – giao diện thông minh, kết nối Apple CarPlay/Android Auto mượt như crush nhắn tin lại. 🔹 Lái cực êm, vào cua mượt, tiết kiệm nhiên liệu đến bất ngờ. 🔹 Màn hình cảm ứng sắc nét, phản hồi nhạy – vừa đi vừa chill vẫn dễ thao tác. 🔹 Gọn gàng nhưng tiện nghi – chuẩn gu đô thị, dễ đỗ, dễ đi, không lo kẹt xe. . 📩 NHẬN BÁO GIÁ VÀ ƯU ĐÃI NGAY HÔM NAY!!!. . #Mazda2 #MazdaChiLinh #MazdaVietnam. ------------------. MAZDA CHÍ LINH. ▪️ Kinh doanh: 0938 904 393. ▪️ Dịch vụ: 0938 908 131. ▪️ Địa điểm: Quốc lộ 18, Khu Bình Giang, P. Chí Linh, TP Hải Phòng. ▪️ Website: https://mazdachilinh.com.vn/\nuser: Con này không có màn hình,cam lùi à"
        }
      ],
      "model": "gemini-2.5-flash",
      "temperature": 0,
      "top_p": 1,
      "tools": [
        {
          "type": "function",
          "function": {
            "name": "system_collect_user_information",
            "description": "Store collected user information",
            "parameters": {
              "type": "object",
              "properties": {
                "explain": {
                  "type": "string",
                  "description": "Quote the message that user mention the information",
                  "additionalProperties": false
                },
                "key": {
                  "type": "string",
                  "description": "Key of the information, empty if not found",
                  "additionalProperties": false
                },
                "name": {
                  "type": "string",
                  "description": "Name of the information you collected",
                  "additionalProperties": false
                },
                "user_mention": {
                  "type": "boolean",
                  "description": "The information is provided by the user",
                  "additionalProperties": false
                },
                "value": {
                  "type": "string",
                  "description": "Value of the information you extracted, only use if you can confirm correctly that the information belong to the user",
                  "additionalProperties": false
                }
              },
              "required": ["key", "explain", "user_mention", "value", "name"],
              "additionalProperties": false
            }
          }
        }
      ]
    },
    "output": {
      "id": "CjeUaMvOB4Hjz7IP69nD4QM",
      "created": 1754543882,
      "object": "chat.completion",
      "model": "gemini-2.5-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": null,
            "tool_calls": [
              {
                "id": "call_CjeUaMvOB4Hjz7IP69nD4QM_0",
                "type": "function",
                "function": {
                  "name": "system_collect_user_information",
                  "arguments": "{\"explain\":\"User commented to a post in Fanpage Mazda Hải Dương - Chí Linh\",\"key\":\"showroom\",\"name\":\"Showroom\",\"user_mention\":true,\"value\":\"Hải Dương - Chí Linh\"}"
                }
              }
            ]
          },
          "finish_reason": "tool_calls"
        }
      ],
      "usage": {
        "prompt_tokens": 827,
        "completion_tokens": 105,
        "total_tokens": 932,
        "prompt_tokens_details": { "cached_tokens": 0 }
      }
    }
  },
  "22": {
    "input": {
      "messages": [
        {
          "role": "system",
          "content": "Hi"
        }
      ],
      "model": "gemini-2.5-flash",
      "temperature": 0,
      "top_p": 1,
      "tools": null,
      "response_format": {
        "type": "json_schema",
        "json_schema": {
          "name": "answer_plan",
          "strict": true,
          "schema": {
            "type": "object",
            "properties": {
              "steps": {
                "type": "array",
                "description": "action should be taken to answer the user query",
                "items": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "description": "name of the action. Eg: 'greet', 'say-thanks'",
                      "additionalProperties": false
                    },
                    "parameters": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "additionalProperties": false
                          },
                          "value": {
                            "type": "string",
                            "additionalProperties": false
                          }
                        },
                        "required": ["name", "value"],
                        "additionalProperties": false
                      },
                      "additionalProperties": false
                    }
                  },
                  "required": ["action", "parameters"],
                  "additionalProperties": false
                },
                "additionalProperties": false
              },
              "strategy": {
                "type": "string",
                "description": "strategy",
                "additionalProperties": false
              }
            },
            "required": ["strategy", "steps"],
            "additionalProperties": false
          }
        }
      }
    },
    "output": {
      "id": "VFmUaI2nNJfUz7IPope--QM",
      "created": 1754552660,
      "object": "chat.completion",
      "model": "gemini-2.5-flash",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "{\"steps\": [{\"action\": \"greet\", \"parameters\": []}], \"strategy\": \"respond to greeting\"}"
          },
          "finish_reason": "stop"
        }
      ],
      "usage": {
        "prompt_tokens": 2,
        "completion_tokens": 62,
        "total_tokens": 64,
        "prompt_tokens_details": {
          "cached_tokens": 0
        }
      }
    }
  }
}
